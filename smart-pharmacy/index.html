<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediQuick - Online Pharmacy</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        
        body {
            background-color: #f0f7ff;
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            flex: 1;
        }
        
        header {
            background: linear-gradient(135deg, #1a73e8, #0d47a1);
            color: white;
            padding: 20px 0;
            border-radius: 0 0 15px 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .logo i {
            font-size: 2.2rem;
        }
        
        .tagline {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-top: 5px;
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #1a73e8;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .card {
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            margin: 30px 0;
        }
        
        .card-title {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #1a73e8;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }
        
        .card-title i {
            font-size: 1.8rem;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #555;
        }
        
        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e1e8f5;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: #1a73e8;
            box-shadow: 0 0 0 3px rgba(26, 115, 232, 0.2);
        }
        
        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        @media (max-width: 600px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .header-content {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .checkbox-group input {
            width: 18px;
            height: 18px;
        }
        
        .submit-btn {
            background: linear-gradient(135deg, #1a73e8, #0d47a1);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
            margin-top: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(26, 115, 232, 0.3);
        }
        
        .submit-btn:active {
            transform: translateY(0);
        }
        
        .form-status {
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
            display: none;
        }
        
        .success {
            background-color: #e7f7ef;
            color: #0d8050;
            border: 1px solid #a7e6c9;
        }
        
        .error {
            background-color: #fde8e8;
            color: #c53030;
            border: 1px solid #f8b4b4;
        }
        
        .info {
            background-color: #e8f0fe;
            color: #1a73e8;
            border: 1px solid #a7c5f0;
        }
        
        footer {
            text-align: center;
            margin-top: auto;
            padding: 20px;
            color: #666;
            font-size: 0.9rem;
            border-top: 1px solid #e1e8f5;
            background-color: white;
        }
        
        .required::after {
            content: " *";
            color: #e53935;
        }
        
        .instructions {
            font-size: 0.85rem;
            color: #777;
            margin-top: 5px;
        }
        
        .order-process {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding: 20px;
            background-color: #e8f0fe;
            border-radius: 10px;
        }
        
        .process-step {
            text-align: center;
            flex: 1;
            padding: 0 10px;
        }
        
        .process-step i {
            font-size: 2rem;
            color: #1a73e8;
            margin-bottom: 10px;
        }
        
        .process-step h4 {
            color: #1a73e8;
            margin-bottom: 5px;
        }
        
        .process-step p {
            font-size: 0.85rem;
            color: #555;
        }
        
        .benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .benefit-item {
            background-color: #f8fbff;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #1a73e8;
        }
        
        .benefit-item i {
            color: #1a73e8;
            font-size: 1.5rem;
            margin-bottom: 10px;
        }
        
        .benefit-item h4 {
            color: #1a73e8;
            margin-bottom: 8px;
        }
        
        .benefit-item p {
            font-size: 0.9rem;
            color: #555;
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div>
                    <div class="logo">
                        <i class="fas fa-pills"></i>
                        <span>MediQuick</span>
                    </div>
                    <div class="tagline">Your trusted online pharmacy with doorstep delivery</div>
                </div>
                <div class="user-profile">
                    <div class="user-avatar">JS</div>
                    <div>
                        <div class="user-name">John Smith</div>
                        <div class="user-email">john.smith@example.com</div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <div class="container">
        <div class="card">
            <h2 class="card-title">
                <i class="fas fa-prescription"></i>
                Prescription Order Form
            </h2>
            <p style="margin-bottom: 20px;">Fill in your prescription details and we'll deliver your medication to your doorstep within 24 hours.</p>
            
            <div class="order-process">
                <div class="process-step">
                    <i class="fas fa-edit"></i>
                    <h4>Fill Form</h4>
                    <p>Complete the prescription order form</p>
                </div>
                <div class="process-step">
                    <i class="fas fa-check-circle"></i>
                    <h4>Verification</h4>
                    <p>Our pharmacists verify your prescription</p>
                </div>
                <div class="process-step">
                    <i class="fas fa-shipping-fast"></i>
                    <h4>Delivery</h4>
                    <p>Medication delivered to your door</p>
                </div>
            </div>
            
            <div class="form-status" id="form-status"></div>
            
            <form id="prescription-form">
                <div class="form-group">
                    <label for="full-name" class="form-label required">Full Name</label>
                    <input type="text" id="full-name" name="name" class="form-input" placeholder="Enter your full name" required>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="email" class="form-label required">Email Address</label>
                        <input type="email" id="email" name="email" class="form-input" placeholder="Enter your email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone" class="form-label required">Phone Number</label>
                        <input type="tel" id="phone" name="phone" class="form-input" placeholder="Enter your phone number" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="address" class="form-label required">Delivery Address</label>
                    <textarea id="address" name="address" class="form-textarea" placeholder="Enter your complete delivery address with landmark" required></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="medicine" class="form-label required">Medicine Name</label>
                        <input type="text" id="medicine" name="medicine" class="form-input" placeholder="e.g., Amoxicillin" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="dosage" class="form-label required">Dosage</label>
                        <select id="dosage" name="dosage" class="form-select" required>
                            <option value="">Select dosage</option>
                            <option value="250mg">250mg</option>
                            <option value="500mg">500mg</option>
                            <option value="750mg">750mg</option>
                            <option value="1000mg">1000mg</option>
                            <option value="Other">Other (Specify in notes)</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="quantity" class="form-label required">Quantity</label>
                        <input type="number" id="quantity" name="quantity" class="form-input" min="1" max="100" value="1" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="frequency" class="form-label required">Frequency</label>
                        <select id="frequency" name="frequency" class="form-select" required>
                            <option value="">Select frequency</option>
                            <option value="Once daily">Once daily</option>
                            <option value="Twice daily">Twice daily</option>
                            <option value="Three times daily">Three times daily</option>
                            <option value="Four times daily">Four times daily</option>
                            <option value="As needed">As needed</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="prescription-details" class="form-label required">Prescription Details</label>
                    <textarea id="prescription-details" name="prescriptionDetails" class="form-textarea" placeholder="Please provide details about your prescription, including doctor's name, clinic/hospital, and any special instructions" required></textarea>
                    <div class="instructions">Please include doctor's name, clinic/hospital, diagnosis, and any relevant medical information.</div>
                </div>
                
                <div class="form-group">
                    <label for="delivery-time" class="form-label">Preferred Delivery Time</label>
                    <select id="delivery-time" name="deliveryTime" class="form-select">
                        <option value="">Any time</option>
                        <option value="Morning (9 AM - 12 PM)">Morning (9 AM - 12 PM)</option>
                        <option value="Afternoon (12 PM - 4 PM)">Afternoon (12 PM - 4 PM)</option>
                        <option value="Evening (4 PM - 8 PM)">Evening (4 PM - 8 PM)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="notes" class="form-label">Additional Notes (Optional)</label>
                    <textarea id="notes" name="notes" class="form-textarea" placeholder="Any additional information for the delivery or special instructions"></textarea>
                </div>
                
                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="terms" name="terms" required>
                        <label for="terms">I confirm that I have a valid prescription for the medication I'm ordering</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="privacy" name="privacy" required>
                        <label for="privacy">I agree to the privacy policy and terms of service</label>
                    </div>
                </div>
                
                <button type="submit" class="submit-btn" id="submit-btn">
                    <i class="fas fa-paper-plane"></i> Submit Prescription Order
                </button>
            </form>
            
            <div class="benefits">
                <div class="benefit-item">
                    <i class="fas fa-shield-alt"></i>
                    <h4>Secure & Confidential</h4>
                    <p>Your medical information is protected with advanced security measures</p>
                </div>
                <div class="benefit-item">
                    <i class="fas fa-clock"></i>
                    <h4>24/7 Support</h4>
                    <p>Our pharmacists are available round the clock for consultation</p>
                </div>
                <div class="benefit-item">
                    <i class="fas fa-truck"></i>
                    <h4>Fast Delivery</h4>
                    <p>Get your medications delivered within 24 hours</p>
                </div>
                <div class="benefit-item">
                    <i class="fas fa-check-circle"></i>
                    <h4>Quality Guaranteed</h4>
                    <p>All medications are sourced from licensed suppliers</p>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Â© 2023 MediQuick Online Pharmacy. All rights reserved.</p>
            <p>This service requires a valid prescription for medication orders. Always follow your healthcare provider's instructions.</p>
            <p>In case of medical emergency, call your local emergency services immediately.</p>
        </footer>
    </div>

    <script>
        // Form submission using Formspree
        document.getElementById('prescription-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Get form data
            const formData = {
                name: document.getElementById('full-name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                address: document.getElementById('address').value,
                medicine: document.getElementById('medicine').value,
                dosage: document.getElementById('dosage').value,
                quantity: document.getElementById('quantity').value,
                frequency: document.getElementById('frequency').value,
                prescriptionDetails: document.getElementById('prescription-details').value,
                deliveryTime: document.getElementById('delivery-time').value,
                notes: document.getElementById('notes').value,
                terms: document.getElementById('terms').checked ? 'Yes' : 'No',
                privacy: document.getElementById('privacy').checked ? 'Yes' : 'No',
                timestamp: new Date().toLocaleString(),
                ip: await getIPAddress()
            };
            
            // Validate form
            if (!formData.name || !formData.email || !formData.phone || !formData.address || 
                !formData.medicine || !formData.dosage || !formData.quantity || !formData.frequency || 
                !formData.prescriptionDetails) {
                
                const statusDiv = document.getElementById('form-status');
                statusDiv.innerHTML = `
                    <i class="fas fa-exclamation-circle"></i>
                    <strong>Please fill all required fields</strong>
                    <p>All fields marked with * are required.</p>
                `;
                statusDiv.className = "form-status error";
                statusDiv.style.display = "block";
                
                setTimeout(() => {
                    statusDiv.style.display = "none";
                }, 5000);
                return;
            }
            
            // Disable submit button and show loading
            const submitBtn = document.getElementById('submit-btn');
            const originalBtnText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<span class="loading"></span> Processing...';
            submitBtn.disabled = true;
            
            // Show loading status
            const statusDiv = document.getElementById('form-status');
            statusDiv.innerHTML = `
                <i class="fas fa-spinner fa-spin"></i>
                <strong>Submitting your prescription...</strong>
                <p>Please wait while we send your prescription details to our pharmacy.</p>
            `;
            statusDiv.className = "form-status info";
            statusDiv.style.display = "block";
            
            try {
                // Send data to Formspree
                const response = await fetch('https://formspree.io/f/mwpgnvly', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });
                
                if (response.ok) {
                    // Success
                    statusDiv.innerHTML = `
                        <i class="fas fa-check-circle"></i>
                        <strong>Prescription submitted successfully!</strong>
                        <p>We've received your prescription details. Our pharmacy team will review it and contact you within 24 hours for confirmation and delivery details.</p>
                        <p>A confirmation email has been sent to <strong>${formData.email}</strong>.</p>
                        <p><small>Order Reference: #${generateOrderId()}</small></p>
                    `;
                    statusDiv.className = "form-status success";
                    
                    // Reset form after successful submission
                    document.getElementById('prescription-form').reset();
                    
                    // Log success
                    console.log('Prescription submitted to Formspree:', formData);
                    
                    // Hide status message after 15 seconds
                    setTimeout(() => {
                        statusDiv.style.display = "none";
                    }, 15000);
                } else {
                    throw new Error('Form submission failed');
                }
            } catch (error) {
                // Handle error
                statusDiv.innerHTML = `
                    <i class="fas fa-exclamation-circle"></i>
                    <strong>Error submitting form</strong>
                    <p>There was an error submitting your prescription. Please try again or contact customer support at pharmacy@mediquick.com.</p>
                    <p><small>Error details: ${error.message}</small></p>
                `;
                statusDiv.className = "form-status error";
                
                // Log error
                console.error('Form submission error:', error);
                
                // Hide status message after 10 seconds
                setTimeout(() => {
                    statusDiv.style.display = "none";
                }, 10000);
            } finally {
                // Re-enable submit button
                submitBtn.innerHTML = originalBtnText;
                submitBtn.disabled = false;
            }
        });
        
        // Helper function to get IP address (for tracking purposes)
        async function getIPAddress() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip;
            } catch (error) {
                return 'Unknown';
            }
        }
        
        // Generate a random order ID
        function generateOrderId() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let result = '';
            for (let i = 0; i < 8; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }
        
        // Pre-populate form with sample data for demo purposes
        document.addEventListener('DOMContentLoaded', function() {
            // Sample data for demo
            document.getElementById('full-name').value = 'John Smith';
            document.getElementById('email').value = 'john.smith@example.com';
            document.getElementById('phone').value = '+1 (555) 123-4567';
            document.getElementById('address').value = '123 Main Street, Apt 4B, New York, NY 10001';
            document.getElementById('medicine').value = 'Amoxicillin';
            document.getElementById('dosage').value = '500mg';
            document.getElementById('quantity').value = '30';
            document.getElementById('frequency').value = 'Twice daily';
            document.getElementById('prescription-details').value = 'Prescribed by Dr. Sarah Johnson from City Medical Center for bacterial sinus infection. Take one capsule every 12 hours for 15 days.';
            document.getElementById('delivery-time').value = 'Evening (4 PM - 8 PM)';
            document.getElementById('notes').value = 'Please deliver between 4-6 PM. Ring doorbell twice. Leave package with concierge if not home.';
            
            // Show demo instructions
            setTimeout(() => {
                const statusDiv = document.getElementById('form-status');
                statusDiv.innerHTML = `
                    <i class="fas fa-info-circle"></i>
                    <strong>Welcome to MediQuick Online Pharmacy</strong>
                    <p>This form is connected to Formspree. When you submit, all prescription details will be sent to the pharmacy email.</p>
                    <p>Form endpoint: <small>https://formspree.io/f/mwpgnvly</small></p>
                `;
                statusDiv.className = "form-status info";
                statusDiv.style.display = "block";
                
                setTimeout(() => {
                    statusDiv.style.display = "none";
                }, 8000);
            }, 1000);
        });
        
        // Add input validation
        const phoneInput = document.getElementById('phone');
        phoneInput.addEventListener('input', function(e) {
            this.value = this.value.replace(/[^\d\s\-\+\(\)]/g, '');
        });
        
        const quantityInput = document.getElementById('quantity');
        quantityInput.addEventListener('input', function(e) {
            if (this.value < 1) this.value = 1;
            if (this.value > 100) this.value = 100;
        });
        
        // Auto-format phone number on blur
        phoneInput.addEventListener('blur', function(e) {
            let phone = this.value.replace(/\D/g, '');
            if (phone.length === 10) {
                this.value = phone.replace(/(\d{3})(\d{3})(\d{4})/, '($1) $2-$3');
            }
        });
        
        // Add keyboard shortcut to submit form (Ctrl + Enter)
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') {
                document.getElementById('prescription-form').dispatchEvent(new Event('submit'));
            }
        });
    </script>
</body>
</html>